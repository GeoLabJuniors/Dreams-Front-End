<!DOCTYPE html>
<html>
<head>
  <title>სიზმრების საიტი</title>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="js/app.js"></script>
 <link rel="stylesheet" type="text/css" href="slick/slick.css"/>
  <link rel="stylesheet" type="text/css" href="slick/slick-theme.css"/>
</head>
<body>
  <header>
    <div class="wrapper dis-flex-between">
      <div class="logo">
        <a href="index.html">
          <img src="images/logo/logo.png">
        </a>
      </div>
      <nav>
        <a href="dreams.html">
          <img src="./images/nav/nav1.png">
        </a>
        <a href="searchdream.html">
          <img src="./images/nav/nav2-c.png">
        </a>
        <a href="map.html">
          <img src="./images/nav/nav3.png">
        </a>
        <a href="signIn.html">
          <img src="./images/nav/nav4.png">
        </a>
      </nav>
    </div>
    <div class="wrapper search_nav">
      <ul class="dis-flex-between">
        <li id="icon_search">icon</li>
        <li id="icon_tag">tags</li>
        <li>location</li>
        <li>date</li>
        <li id="searh_lang">languange</li>
      </ul>
      <div class="search_box">
        <label>
          <img src="images/icon/search.png">
        </label>
        <input type="search" name="search" id="tag_search" autofocus>
      </div>
    </div>
<div class="wrapper hide search_types">
    <div class="prev" onclick="onLeft();" style="opacity: 1;">
    <img src="./images/dream-cards/arrow.png">
    </div>
    
      <ul class="slider-ul">
        <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">Category1</h5>
        </li>
        <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">Category2</h5>
        </li>
        <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">Category3</h5>
        </li>
        <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">Category4</h5>
        </li>
        <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">Category5</h5>
        </li>
        <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">Category6</h5>
        </li>
        <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">Category7</h5>
        </li>
        <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">Category8</h5>
        </li>
        <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">Category4447</h5>
        </li>
        <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">Categowqdqdwdwedry17frgrg7</h5>
        </li>
        <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">ewfwfwe</h5>
        </li>
        <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">ewfwfewfwfw</h5>
        </li>
        <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">wefefe</h5>
        </li>
        <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">Caterfernfneregory</h5>
        </li>
        <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">erferfe</h5>
        </li>
        <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">ermfermfermf</h5>
        </li>

 <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">ok</h5>
        </li>
         <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">pefrerfk</h5>
        </li>
         <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">erfefef</h5>
        </li>
         <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">helloooooo</h5>
        </li>
 <li>
          <img src="./images/dream-cards/dream_card.png" class="category_icon">
           <h5 class="category_title">yferferferfooo</h5>
        </li>
        </ul>
        <div class="next" onclick="onRight();" style=" opacity: 1;">
    <img src="./images/dream-cards/arrow1.png">
    </div>
    </div>
<div class="search_t wrapper hide">      
  <input type="search" name="search"  id="tag_inp" class="input_tag"  onkeyup="myFunction2(this,event)">
</div>

<div class="search_Language wrapper hide">  
<div class="l">
    <img src="./images/dream-cards/arrow.png">
    </div>
        <div class="langBox">
 <ul id="lang">
<li class="opac">English<li>
  <li class="opac">ქართული<li>
 </ul>
</div>
<div class="r">
    <img src="./images/dream-cards/arrow1.png">
    </div>
</div>

</header>
<div class="wrapper hide menu_container">
  <div  class="l">
    <img src="./images/dream-cards/arrow.png">
  </div>
  <div id="mid">
 <div id="middle">
  <div class="icons_container dis-flex-between-for-slider">    
  </div>
  <div class="tags_container dis-flex-between-for-slider" id="tags_list">
  </div>
  <div class="location_container dis-flex-between-for-slider">
  </div>
  <div class="date_container dis-flex-between-for-slider"> 
</div>
<div class="language_container dis-flex-between-for-slider"> 
</div>
</div> 
 </div>
  <div class="clear_all">
    <span>Clear All</span>
  </div>
  <div class="r">
    <img src="./images/dream-cards/arrow1.png">
  </div>
</div>
</div><!--choosen categories end-->
<main>
    <div class="wrapper-dream-body mr-b mr-t">
      <div class="dis-flex-between">
        <div class="search_dream">
          <a href="#">
            <img src="./images/dream-cards/bck-c.png" />
          </a>
          <div class="search_icon_text">
            <h5>Dream</h5>
            <span>Some text here</span>
          </div>
        </div>

        <div class="search_dream">
          <a href="#">
            <img src="./images/dream-cards/bck-c.png" class="category_icon">
          </a>
          <div class="search_icon_text">
            <h5>Dream</h5>
            <span>Some text here</span>
          </div>
        </div>
        <div class="search_dream">
          <a href="#">
            <img src="./images/dream-cards/bck-c.png" class="category_icon">
          </a>
          <div class="search_icon_text">
            <h5>Dream</h5>
            <span>Some text here</span>
          </div>
        </div>
      </div>
    </div>
</main>
<script>
    var search_typesUL = $('.slider-ul').children().length * 85;
    $('.slider-ul').css('width', search_typesUL + 'px');
    // console.log($('.slider-ul').children().length)

    function onRight() {
      currentValue = parseInt($('.slider-ul').css('transform').split(',')[4]);
      
      con = currentValue ? currentValue - 120: -120;
      
      if (Math.abs(con) + 1020 < search_typesUL) {
        // console.log(con)
        $('.slider-ul').css('transform', 'translate(' + con + 'px, 0)');
      } else {
        // $('.next').css('display','none');
      }

    }
    function onLeft() {
      currentValue = parseInt($('.slider-ul').css('transform').split(',')[4]);
      
      con = currentValue ? currentValue + 120 : 0;
      if (con < 0) {
        console.log(con)
        $('.slider-ul').css('transform', 'translate(' + con + 'px, 0)');
      } else {
        // $('.next').css('display','none');
        $('.slider-ul').css('transform', 'translate(' + 0 + 'px, 0)');
      }

    }
$(".search_types").hide();

$(".search_t").hide();
$(".search_Language").hide();
///
  // $(".search_types").slideToggle();
  // $('#icon_search').toggleClass('active');
///
$('#icon_search').click(function () {
  $(".search_types").slideToggle();
  $('#icon_search').toggleClass('active');
  $('.menu_container').slideUp();
});
$('.slider-ul li').click(function () {
  $(this).find('img').toggleClass('active');
  $(".search_types").slideUp();
});    
</script>
<script>//add search categories
$(".menu_container").hide();
window.items = []
$('.slider-ul li').click(function () {
  const item = $(this).find('.category_title').text();
  const isAdding = !items.includes(item)
  if (isAdding){
    $(this).find(".category_title").addClass('clicked')
    items.push(item)
    $(".icons_container").append(`
      <div class='category_wrap'>
        ${item}
        <img src="./images/dream-cards/x.png" class="deleteTag" />
      </div>
    `)
  } else {
    // console.log($('.category_wrap').length)
    $('.category_wrap').each(function() {
      // console.error(0, val)
      // const ableToDelete = false
      const ableToDelete = $(this).text().replace(/\n| /g, '') === item
      if (ableToDelete) {
        const itemIndex = items.indexOf(item)
        items.splice(itemIndex, 1)
        $(this).remove()
      }
    })
  }

$(document).ready(function(){
  checkSize(); 
  
});
//arrows
function checkSize(){
  if($("#middle").height()>58)  {
    $('.r').show();
    $('.l').show();
  }
  else{
    $('.r').hide();
    $('.l').hide();
  }
}

 if (items.length) {
    $(".menu_container").slideDown()
  }
 $('.deleteTag').click(function () {
    const item = $(this).parent().text().replace(/\n| /g, '')
    if (items.includes(item)) {
      const itemIndex = items.indexOf(item)
      items.splice(itemIndex, 1)
      $(this).closest('.category_wrap').remove()
      $('.slider-ul li').each(function() {
        const isActive = $(this).text().replace(/\n| /g, '') === item
        if (isActive) {
          $(this).find('img').removeClass('active')
        }
      })
    }
    if (items.length === 0) {
      $('.menu_container').slideUp()
    }
    // $('.icons_container').find('.category_wrap').remove()
    // $('.menu_container').slideUp()
    // if ($( '.category_icon').hasClass('active')) {
      // $('.category_icon').removeClass('active')
    // }
  })
});
</script>
<script>
$('.clear_all').click(function () {
  items = []
  $('.slider-ul li img').each(function() {
    $(this).removeClass('active')
  })
  $('.category_wrap').remove()
  $(".menu_container").slideUp();
});


</script>
<script>
  $('#icon_tag').click(function () {
  $(".search_t").slideToggle();
  $('#icon_tag').toggleClass('active');
  $(".input_tag").show().focus();
  $('.menu_container').slideUp()
});

//tags button click function
$('.input_tag').keypress(function(e) {
    if(e.which == 13 || e.keyCode==32) {
    $(".search_t").slideUp();
    }
});

//selected box slider
$(document).ready(function () {
  $(".r").click(function () { 
   // var leftPos = $('#middle').offset().right;
    //console.log(leftPos);

   var rt = ($('#middle').offset().left + $('#middle').outerWidth());
   console.log(rt);

    newPosition = rt - 1400;
   // newPosition = newPosition > 0 ? newPosition : 0

    $('#middle').css("transform", "translateX(" + newPosition + "px)")
    
  });   

  $(".l").click(function () { 
    var leftPos = $('#middle').offset().left;
    newPosition = (leftPos + 100);
    newPosition = newPosition < 0 ? newPosition : 0
    $('#middle').css("transform", "translateX(" + newPosition + "px)");

  });

  
});
      
//adding hashtags 
function myFunction2(t,e){
    if(e.keyCode==13|| e.keyCode==32){
      if(t.value!=0 && t.value.trim()!=""){
          var x = document.createElement('div');
          x.setAttribute('class','category_wrap');
         var z = document.createElement('div');
          z.setAttribute('class','close');
          var y = document.createElement('a');
          z.innerHTML="x";
          y.setAttribute('href',"#");
          y.setAttribute('id',"link_tag");
          y.innerHTML = "#"+t.value.trim();
          x.appendChild(y);
          x.appendChild(z);
          document.getElementById("tags_list").appendChild(x);
          t.value = t.defaultValue;
          $(".menu_container").slideDown();
          $(z).click(function(){
            $(x).remove();
            $(".menu_container").slideUp();
    });
    
  }}  
};


// search by language

  $('#searh_lang').click(function () {
    $(".search_Language").slideToggle();
    $('#searh_lang').toggleClass('active');
     $('.menu_container').slideUp();
   });
    $("#lang li").click(function (){
   $(this).toggleClass('opac');

   $('.search_Language').slideUp();
      $(".menu_container").slideDown();
  });
  //$('#icon_search').toggleClass('active');
  
window.items2 = []
$('#lang li').click(function () {
  const item2 = $(this).text();
  const isAdding2 = !items2.includes(item2)
  if (isAdding2){
    $(this).addClass('clicked')
    items2.push(item2)
    $(".language_container").append(`
      <div class='category_wrap'>
        ${item2}
        <img src="./images/dream-cards/x.png" class="deleteTag" />
      </div>
    `)
  } else {
     $('.category_wrap').each(function() {
      // console.error(0, val)
      // const ableToDelete = false
      const ableToDelete = $(this).text().replace(/\n| /g, '') === item2
      if (ableToDelete) {
        const itemIndex = items2.indexOf(item2)
        items2.splice(itemIndex, 1)
        $(this).remove()
      }
    })
  }
       $('.deleteTag').click(function (){

   const item2 = $(this).parent().text().replace(/\n| /g, '')
    if (items2.includes(item2)) {
      const itemIndex = items2.indexOf(item2)
      items2.splice(itemIndex, 1)
      $(this).closest('.category_wrap').remove()
      $('#lang li').each(function() {
        const isActive = $(this).text().replace(/\n| /g, '') === item2
        if (isActive) {
          $(this).addClass('opac')
        }
      })
  if (items2.length === 0) {
      $('.menu_container').slideUp()
    }

       
    }
  })
})
;

</script>

</body>
</html> 